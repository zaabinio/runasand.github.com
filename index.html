
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>blog.encrypted.cc</title>
  <meta name="author" content="Runa A. Sandvik">

  
  <meta name="description" content="On February 15, Dafydd Stuttard announced the release of Burp Suite v1.5.05. This release contains a number of feature enhancements and bugfixes, &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://blog.encrypted.cc/">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
   <link href="/stylesheets/data-table.css" media="screen, projection" rel="stylesheet" type="text/css" />
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="/javascripts/ender.js"></script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <link href="/atom.xml" rel="alternate" title="blog.encrypted.cc" type="application/atom+xml">
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="http://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href='http://fonts.googleapis.com/css?family=Lato:400,700,400italic,700italic' rel='stylesheet' type='text/css'>


  

</head>

<body   >
  <header role="banner"><hgroup>
</hgroup>

</header>
  <!-- <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<ul class="main-navigation">
  <li><a href="/">Blog</a></li>
  <li><a href="/blog/archives">Archives</a></li>
</ul>

</nav> -->
  <div id="main">
    <div id="content">
      <div class="blog-index">
  
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2013/02/25/testing-tor-hidden-services-with-burp-pro/">Testing Tor Hidden Services With Burp Pro</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2013-02-25T09:33:00-05:00" pubdate data-updated="true">Feb 25<span>th</span>, 2013</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>On February 15, Dafydd Stuttard announced the release of <a href="http://releases.portswigger.net/2013/02/v1505.html">Burp Suite v1.5.05</a>. This release contains a number of feature enhancements and bugfixes, including an extension to the SOCKS proxy support which allows users to specify that all DNS lookups should be done remotely via the proxy. This means that it is possible to test Tor hidden services with Burp.</p>

<p>This feature is currently only available in Burp Pro, but should eventually make its way into the free edition.</p>

<h3>Tor hidden services</h3>

<p><a href="https://www.torproject.org/docs/hidden-services.html.en">Tor hidden services</a>, sometimes also referred to as the <em>hidden web</em>, <em>dark web</em>, and <em>deep web</em>, were deployed on the Tor network in 2004. Hidden services allow users to host various kinds of resources, such as websites and instant messaging servers, without having their identity or location revealed. Not only does this protect the operators, but also the resources.</p>

<p>A hidden service can only be accessed through its Tor-specific <em>.onion</em> pseudo-<em>top-level domain (TLD)</em>. One example is <a href="http://3g2upl4pq6kufc4m.onion/">3g2upl4pq6kufc4m.onion</a>, which is the address of the <a href="https://duckduckgo.com/">Duck Duck Go</a> search engine. The relays in the Tor network understand the .onion pseudo-TLD and route data anonymously both to and from the hidden service. The IP address, physical location, or operator of a Tor hidden service is never revealed to relays in the Tor network, visitors, or the Tor Project &#8211; as long as the hidden service has been properly <a href="https://www.torproject.org/docs/tor-hidden-service.html.en">configured and secured</a>.</p>

<h3>Tor hidden services and Burp</h3>

<p>To test a Tor hidden service with Burp, make sure the Tor Browser, Tor, and Burp can all talk to each other:</p>

<ul>
<li>Download the <a href="https://www.torproject.org/download/download-easy.html.en">Tor Browser Bundle</a>, <a href="https://www.torproject.org/docs/verifying-signatures.html.en">verify the signature</a>, and get it up and running</li>
<li>Figure out which SOCKS port the Tor Browser is using to talk to Tor: <em>Preferences</em>, <em>Advanced</em>, <em>Network</em>, <em>Settings</em> (next to <em>Configure how TorBrowser connects to the Internet</em>)</li>
<li>Configure Burp to use the same SOCKS proxy as the Tor Browser: <em>Options</em>, <em>Connections</em>, scroll down to the SOCKS proxy section, enter the host and port, and tick <em>Use SOCKS proxy</em> and <em>Do DNS lookups over SOCKS proxy</em></li>
<li>Configure the Tor Browser to use Burp as an HTTP Proxy: on the proxy settings page, enter <em>127.0.0.1:8080</em> as the HTTP proxy and tick <em>Use this proxy for all server protocols</em></li>
</ul>


<p>Visiting <a href="http://3g2upl4pq6kufc4m.onion/">3g2upl4pq6kufc4m.onion</a> in the Tor Browser gives the following output in Burp:</p>

<p><img src="/images/burp-tor-hs.png"></p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2013/02/04/training-journalists-in-istanbul/">Training Journalists in Istanbul</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2013-02-04T09:31:00-05:00" pubdate data-updated="true">Feb 4<span>th</span>, 2013</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>After meeting with <a href="http://blog.encrypted.cc/blog/2013/02/04/meeting-with-soca-in-london/">SOCA in London</a>, I traveled to Istanbul to teach local and foreign journalists how to use Tor and Tails to keep themselves, their colleagues, and their sources safe online. I also met with the team behind <a href="http://zerodaydoc.com/">Zero Day</a>, a documentary about all things Internet security, to talk about Tor and the work that I do.</p>

<p>I met with foreign journalists on the first day and local journalists the day after. Around 30 people attended in total, and each training session lasted just over two hours. <a href="http://encrypted.cc/2013-01-28-istanbul.pdf">My presentation</a> covered threats, how you can protect your communication, local data, and external data, as well as how to use the Tor Browser Bundle and Tails. I gave out USB sticks with the <a href="https://www.torproject.org/projects/torbrowser.html.en">Tor Browser Bundle</a>, <a href="https://www.torproject.org/dist/manual/short-user-manual_en.xhtml">the short user manual</a>, and the <a href="https://cpj.org/reports/2012/04/journalist-security-guide.php">CPJ Journalist Security Guide</a>. PC users were also given USB sticks with <a href="https://tails.boum.org/">Tails</a>.</p>

<h3>Presentation</h3>

<p>The feedback has been really positive from everyone who attended, and I have been told that those who were unable to attend have been given the material I handed out. There are some things that can be improved, however:</p>

<ul>
<li><p>Tor does not prevent somebody watching your Internet traffic from
learning that you&#8217;re using Tor. In some cases, the fact that you are
using Tor and encrypting emails/chat/drives can be a red flag. I am
not sure how to best address this in a presentation, other than just
say that yes, it can be a red flag.</p></li>
<li><p>We talked about a few different risks, such as having your phone
tapped, your email hacked, and your home or hotel room broken into.
Having solid examples and stories helps a lot.</p></li>
<li><p>I introduced a lot of new technology in a short amount of time. Those who are not familiar with technology such as <a href="http://en.wikipedia.org/wiki/Disk_encryption">full disk encryption</a>, <a href="http://www.gnupg.org/">GPG</a>, and <a href="http://www.cypherpunks.ca/otr/">OTR</a>, would benefit from a longer and more hands-on session.</p></li>
<li><p>The presentation included screenshots of encrypted email, encrypted
chat, and the Tor Browser Bundle. Having a few videos that illustrate
how it works, what the user sees, and what the new workflow is will
make it easier to understand.</p></li>
<li><p>The presentation mentioned <a href="http://en.wikipedia.org/wiki/Bitlocker">Bitlocker</a>, <a href="http://en.wikipedia.org/wiki/FileVault">FileVault</a>, and <a href="http://www.truecrypt.org/">TrueCrypt</a> for full disk encryption, but did not go into details. I told everyone how to enable FileVault in OS X, and I should add these step-by-step instructions to the presentation.</p></li>
<li><p>Tor was originally designed, implemented, and deployed as a project of the U.S. Naval Research Laboratory. We also receive funding via U.S. government organizations. I covered this briefly in my presentation, but could have spent a bit more time talking about the Tor Project, Inc and why we are qualified to talk about Internet security and online anonymity.</p></li>
</ul>


<h3>Tails</h3>

<p>I asked a few people to try out Tails and let me know if something was
confusing, did not work, or could be improved:</p>

<ul>
<li><p>Tails has <a href="https://tails.boum.org/support/known_issues/index.en.html#index1h2">very limited support</a> for Apple hardware. 23 out of 30 attendees were Mac users. I tried booting Tails on my MacBook Air, but OS X was unable to find the USB stick.</p></li>
<li><p>I am used to the Tor Browser and was surprised to see that <a href="https://check.torproject.org">check.torproject.org</a> was not the default home page.</p></li>
<li><p>Firefox will start automatically once you are connected to the
Internet. Most users did not wait for the Tails website to load
before entering another URL in the address bar. Users did not
question if they were actually using Tor.</p></li>
<li><p>One user waited for the Tails website to load, saw the green download
button and then asked if he needed to upgrade to a newer version. I
wonder if there is a way to let users know which version they are
currently using.</p></li>
<li><p>A few users seemed confused when Pidgin automatically connected to
IRC. I wonder if it would be better to have that disabled by default,
and instead take users through the process of setting up their own
accounts.</p></li>
<li><p>One user tried the email client, skipped the part where you set up
the mail servers, and tried to write an email. I wonder if there is a
way to improve this, as most users expect the mail client to work
just like the one they are used to in their normal operating system.</p></li>
<li><p>Tails uses a US keyboard layout by default. This can be confusing for
anyone with a different keyboard layout. A few users mentioned that
the tap-touchpad-to-click functionality did not work.</p></li>
<li><p>One user pointed out that there is no logout or shutdown option
available when using Tails in Windows XP mode.</p></li>
<li><p>The shutdown process can look a bit scary for anyone who is not used
to Linux, especially the part where it wipes the memory. A friendly
splash-screen of some sort would be good.</p></li>
</ul>


<p>Thanks to my wonderful hosts for providing me with a place to stay,
great food, suggestions on what to see in Istanbul, and for organizing
and hosting the training sessions.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2013/02/04/meeting-with-soca-in-london/">Meeting With SOCA in London</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2013-02-04T09:16:00-05:00" pubdate data-updated="true">Feb 4<span>th</span>, 2013</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>In January I met with the <a href="http://www.soca.gov.uk/">Serious Organised Crime Agency (SOCA)</a> in London, UK. One of the challenges when dealing with online threats (cybercrime/e-crime) is understanding which leads not to follow. My goal was to help them understand what Tor is, how it works (both from a user and a relay operator point of view), and what it can and cannot do.</p>

<p>I talked about the Tor software ecosystem, including <a href="https://metrics.torproject.org/exonerator.html">ExoneraTor</a> (the website that tells you whether a given IP address was a Tor relay), and mentioned that we list all <a href="https://www.torproject.org/projects/projects.html.en">official projects</a> on our website. I also mentioned Roger&#8217;s trip to the <a href="https://blog.torproject.org/blog/trip-report-october-fbi-conference">FBI conference</a> in October 2012, and talked about some of the experiences we have had teaching US-based law enforcement about Tor.</p>

<p>Overall, I would say the meeting went well. They learned more about Tor and the projects we are working on, and they are aware that the protections that prevent us from figuring out what Tor users are doing - and who they are - is what&#8217;s keeping all Tor users safe.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2013/02/02/what-i-did-for-the-tor-project-in-january/">What I Did for the Tor Project in January</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2013-02-02T17:29:00-05:00" pubdate data-updated="true">Feb 2<span>nd</span>, 2013</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>At the beginning of each month, I send an email to the
<a href="https://lists.torproject.org/pipermail/tor-reports/">tor-reports</a>
mailing list describing what I did the previous month. I figured that
re-posting this status update here would be a good way to start my blog.</p>

<h3>Top 4 things I did this month</h3>

<ul>
<li><p>Started working on an OS X Flash sandbox for the <a href="https://www.torproject.org/projects/torbrowser.html.en">Tor Browser Bundle</a> <a href="https://trac.torproject.org/projects/tor/ticket/7008">(#7008)</a>. Building TBB on OS X was a bit of a challenge <a href="https://trac.torproject.org/projects/tor/ticket/7964">(#7964)</a> and I also ran into a bug with the Tor Browser crashing whenever I visit certain Flash sites <a href="https://trac.torproject.org/projects/tor/ticket/8129">(#8129)</a>.</p></li>
<li><p>I interviewed 26 candidates for the <a href="https://www.torproject.org/about/jobs-translatorsupport.html.en">translator/support assistant position(s)</a>. All the interviews were done via email and I spent a lot of time reviewing the answers I received. I hope we can move forward and hire support assistants in February.</p></li>
<li><p>I gave a talk about Tor and the Arab Spring at <a href="http://www.hacdc.org/">HacDC</a>. I met with researchers in DC and listened to talks about privacy, stylometry, analysis of onion routing security, and an evaluation of relay
selection in Tor. I attended a meeting with the US Drug Enforcement Agency (DEA) where Andrew talked about all things Tor. I traveled to London and Istanbul (trip reports will be published on Monday).</p></li>
<li><p>I resolved 204 tickets in the Tor help desk system (see the <a href="https://lists.torproject.org/pipermail/tor-reports/2013-February/000148.html">tor-reports email</a> for the full summary). I&#8217;d like to thank Moritz for taking care of the help desk while I was traveling.</p></li>
</ul>


<h3>Top 5 things I would like to do next month:</h3>

<ul>
<li><p>Begin a forensic analysis of the Tor Browser Bundle on OS X 10.8 <a href="https://trac.torproject.org/projects/tor/ticket/6846">(#6846)</a> and Windows 7 <a href="https://trac.torproject.org/projects/tor/ticket/6845">(#6845)</a>. I still need to figure out if we are adding Linux to the list (the <a href="https://trac.torproject.org/projects/tor/wiki/org/sponsors/SponsorJ">sponsor page</a> says yes, but we have no ticket for it).</p></li>
<li><p>Continue working on an OS X Flash sandbox for the Tor Browser Bundle <a href="https://trac.torproject.org/projects/tor/ticket/7008">(#7008)</a>. I should be able to continue with this even if the browser is crashing on certain sites.</p></li>
<li><p>I have a few Trac tickets related to translations and <a href="https://www.torproject.org/docs/short-user-manual.html.en">the short user manual</a>. I also want to properly document how the translation process works (from adding a new translation resource to pulling down new or updated translations).</p></li>
<li><p>Help new translators/support assistants get started with <a href="https://www.transifex.com/projects/p/torproject/">Transifex</a> and <a href="http://www.bestpractical.com/rt/">RT</a>. I started writing an <a href="https://trac.torproject.org/projects/tor/wiki/doc/support/Introduction">introduction</a> to the Tor help desk system and should make sure this is complete and up to date.</p></li>
<li><p>Attend <a href="http://www.shmoocon.org/">Shmoocon</a> and go on vacation.</p></li>
</ul>

</div>
  
  


    </article>
  
  <div class="pagination">
    
    <a href="archives">Blog Archives</a>
    
  </div>
</div>
<aside class="sidebar">
  
    <section>
  <ul id="recent_posts">
      <li class="post">
      <a href="http://blog.encrypted.cc" alt="Home"><img src="/images/Home.png"></a>
      <a href="http://blog.encrypted.cc/archives/" alt="Archives"><img src="/images/Calendar.png"></a>
      <a href="mailto:runa.sandvik@gmail.com" alt="E-Mail"><img src="/images/Envelope.png"></a>
      <a href="http://blog.encrypted.cc/atom.xml" alt="subscribe feed"><img src="/images/rss.png"></a>
      </li>
  </ul>
</section>
<section>
    <h1>Runa A. Sandvik</h1>
    <p>Passionate about all things Internet security, online anonymity,
    privacy, and travel, works for the <a
        href="https://www.torproject.org">Tor Project</a>.</p>
</section> 

<section>
    <h1>Media</h1>
    <p>A list of articles, interviews, and talks, can be found on the <a
        href="http://encrypted.cc/media.html">media</a> page.</p>
</section>    

<section>
    <h1>Contact</h1>
    <p>runa.sandvik@gmail.com<br/>
    runa@torproject.org<br/>
    <a href="http://encrypted.cc/gpg.asc">GPG 0x792FB138</a></p>
</section>
<section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/blog/2013/02/25/testing-tor-hidden-services-with-burp-pro/">Testing Tor Hidden Services with Burp Pro</a>
      </li>
    
      <li class="post">
        <a href="/blog/2013/02/04/training-journalists-in-istanbul/">Training journalists in Istanbul</a>
      </li>
    
      <li class="post">
        <a href="/blog/2013/02/04/meeting-with-soca-in-london/">Meeting with SOCA in London</a>
      </li>
    
      <li class="post">
        <a href="/blog/2013/02/02/what-i-did-for-the-tor-project-in-january/">What I did for the Tor Project in January</a>
      </li>
    
  </ul>
</section>

  
</aside>

    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2013 - Runa A. Sandvik -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>

</footer>
  

<script type="text/javascript">
      var disqus_shortname = 'encrypted';
      
        
        var disqus_script = 'count.js';
      
    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = 'http://' + disqus_shortname + '.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>











</body>
</html>
